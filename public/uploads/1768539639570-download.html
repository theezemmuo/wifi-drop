<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WiFi Drop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM11 16H13V18H11V16ZM12.63 13.92L13.89 12.66C14.78 11.78 15.25 10.93 15.25 10C15.25 8.2 13.79 6.75 12 6.75C10.2 6.75 8.75 8.2 8.75 10H10.75C10.75 9.31 11.31 8.75 12 8.75C12.69 8.75 13.25 9.31 13.25 10C13.25 10.53 12.96 11.03 12.3 11.68L10.71 13.28C10.27 13.72 10 14.33 10 15H12V14.65C12 14.37 12.24 14.13 12.52 13.85L12.63 13.92Z"
                            fill="currentColor" />
                    </svg>
                    <span>WiFi Drop</span>
                </div>
            </div>

            <div class="my-profile-section">
                <label>Your Device Name</label>
                <div class="input-wrapper">
                    <input type="text" id="my-name-input" placeholder="Enter name..." autocomplete="off">
                    <div class="status-indicator" title="Online"></div>
                </div>
            </div>

            <div class="peers-list-section">
                <h3>Available Devices</h3>
                <div class="peers-list" id="peers-list">
                    <!-- Peer Items Injected Here -->
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Default / Radar View -->
            <div id="radar-view" class="view-section">
                <div class="radar-container">
                    <div class="radar-circle"></div>
                    <div class="radar-circle"></div>
                    <div class="radar-circle"></div>
                    <div class="radar-scanner"></div>
                </div>
                <h2>Looking for nearby devices...</h2>
                <p>Select a device from the sidebar to start sharing.</p>
            </div>

            <!-- Chat / Transfer View -->
            <div id="chat-view" class="view-section hidden">
                <header class="chat-header">
                    <div class="chat-peer-info">
                        <div class="peer-avatar-small" id="chat-avatar">?</div>
                        <div class="chat-peer-details">
                            <span id="chat-peer-name">Peer Name</span>
                            <span id="chat-peer-status">Connected</span>
                        </div>
                    </div>
                </header>

                <div class="chat-messages" id="chat-messages">
                    <!-- Messages -->
                </div>

                <div class="chat-input-area">
                    <button id="upload-btn" class="icon-btn" title="Send File">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                        </svg>
                    </button>
                    <input type="file" id="file-input" hidden>
                    <input type="text" id="message-input" placeholder="Type a message...">
                    <button id="send-btn" class="send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </div>

                <div class="upload-progress hidden" id="upload-progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="upload-progress-fill"></div>
                    </div>
                    <span id="upload-status-text">Uploading...</span>
                </div>
            </div>

        </main>
    </div>

    <!-- Preview Modal -->
    <div id="preview-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-modal" class="close-btn">&times;</button>
            <div class="preview-body" id="preview-body">
                <!-- Image or Icon injected here -->
            </div>
            <div class="preview-footer">
                <div class="file-details">
                    <span id="preview-filename">filename.jpg</span>
                    <span id="preview-size">1.2 MB</span>
                </div>
                <a id="download-btn" href="#" class="primary-btn" download>Download</a>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>

</html>